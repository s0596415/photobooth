<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FIW Winterfest Photobooth</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <!-- antonia - qr code funktion-->

    <link rel="stylesheet" href="style.css" />

    <script src="script.js" defer></script>
    <!-- antonia -->
  </head>

  <body>
    <div class="snowflakes" id="snowflakes"></div>

    <div class="container">
      <div id="start-screen" class="screen active">
        <h1>‚ùÑÔ∏è FIW Winterfest Photobooth ‚ùÑÔ∏è</h1>
        <p class="subtitle">W√§hle dein Foto-Layout</p>

        
        <!--Laura: Code verk√ºrzt-->
         <div class="layout-grid">
                <div class="layout-card" data-layout="1">
                    <div class="layout-preview" style="grid-template-columns: 1fr; grid-template-rows: repeat(3, 1fr);">
                        <div class="layout-box"></div>
                        <div class="layout-box"></div>
                        <div class="layout-box"></div>
                    </div>
                    <div class="layout-name">1√ó3 Classic</div>
                    <div>3 Fotos</div>
                </div>
       

                <div class="layout-card" data-layout="2">
                    <div class="layout-preview" style="grid-template-columns: 1fr; grid-template-rows: repeat(4, 1fr);">
                        <div class="layout-box"></div>
                        <div class="layout-box"></div>
                        <div class="layout-box"></div>
                        <div class="layout-box"></div>
                    </div>
                    <div class="layout-name">1√ó4 Strip</div>
                    <div>4 Fotos</div>
                </div>
          

         <!--Laura: Instax Gr√∂√üe angepasst-->
            <div class="layout-card" data-layout="3">
                    <div class="layout-preview" style="grid-template-columns: 2fr 2fr;">
                        <div class="layout-box" style="grid-column: span 2;"></div>
                    </div>
                    <div class="layout-name">Instax Quadrat</div>
                    <div>1 Foto</div>
                </div>
            </div> 
              

        <button
          class="btn btn-primary btn-full"
          id="start-btn"
          style="display: none"
        >
          Weiter üì∑
        </button>
      </div>

      <div id="camera-screen" class="screen">
        <div class="camera-layout"><div>
            <button class="btn btn-secondary" id="back-to-start" style="margin-bottom: 1rem; width: 100%;">
            ‚Üê Zur√ºck zur Auswahl
        </button>

            <div class="video-container">
              <video id="video" autoplay playsinline></video>
              <div class="countdown-overlay" id="countdown">3</div>

              <div class="spinner-overlay" id="spinner">
                <div class="spinner-dot"></div>
                <!-- Lade-Spinner hinzugef√ºgt, wenn berechtigung f√ºr Kamera erteilt wird -->
                <div class="spinner-dot"></div>
                <div class="spinner-dot"></div>
              </div>
            </div>

            <div class="button-group" style="margin-top: 1rem">
              <button class="btn btn-primary" id="capture-btn" style="flex: 1">
                Foto aufnehmen <span id="photo-counter">(1/3)</span>
              </button>
            </div>

            <div class="button-group" id="camera-actions" style="display: none">
              <button class="btn btn-secondary" id="retake-btn" style="flex: 1">
                üîÑ Neu aufnehmen
              </button>
              <button class="btn btn-primary" id="next-btn" style="flex: 1">
                Weiter ‚ú®
              </button>
            </div>
          </div>

          <div class="preview-panel">
            <h3>Vorschau</h3>
            <div class="preview-grid" id="preview-grid"></div>
          </div>
        </div>
      </div>

      <div id="customize-screen" class="screen">
        <button class="btn btn-secondary" id="back-to-camera" style="margin-bottom: 1rem;">
        ‚Üê Zur√ºck zur Kamera
    </button>
    
        <h1>Gestalte deinen Photostrip</h1>
        <p class="subtitle">W√§hle einen Hintergrund</p>

        <div class="canvas-container">
          <canvas id="photostrip-canvas"></canvas>
        </div>

        <div class="customization-panel">
          <h3>Winter-Hintergr√ºnde</h3>
          <div class="background-grid" id="bg-grid"></div>

          <h3>Volltonfarben</h3>
          <div class="color-grid" id="color-grid"></div>
        </div>

        <button class="btn btn-primary btn-full" id="customize-next-btn">
          Weiter ‚ú®
        </button>
      </div>

      <div id="download-screen" class="screen">
        <button class="btn btn-secondary" id="back-to-customize" style="margin-bottom: 1rem;">
        ‚Üê Zur√ºck zur Gestaltung
    </button>
    
        <h1>Dein Photostrip ist fertig!</h1>
        <p class="subtitle">Herunterladen oder teilen</p>

        <div class="canvas-container">
          <canvas id="final-canvas"></canvas>
        </div>

        <div class="download-buttons">
          <button class="btn btn-primary" id="download-btn">
            ‚¨áÔ∏è Foto herunterladen
          </button>
          <button
            class="btn btn-primary"
            id="qr-btn"
            style="
              background: linear-gradient(135deg, #9c27b0 0%, #e91e63 100%);
            "
          >
            üì± QR-Code erstellen
          </button>
        </div>

        <div class="qr-container" id="qr-container">
          <p style="color: #1565c0; margin-bottom: 1rem">
            Scanne um dein Foto zu speichern!
          </p>

          <div class="qr-placeholder" id="qr-code-target"></div>

          <p style="font-size: 0.9rem; color: #666; margin-top: 1rem">
            Winter Photobooth - <span id="qr-date"></span>
          </p>
        </div>

        <button class="btn btn-secondary btn-full" id="restart-btn">
          üîÑ Neu starten
        </button>
      </div>
    </div>
  </body>

</html>
